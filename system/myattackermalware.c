/* myattackermalware.c - myattackermalware */

#include <xinu.h>
static unsigned long	*ebp;

/*------------------------------------------------------------------------
 *  myattacker  -  a function would not be called directly by anyone
 *------------------------------------------------------------------------
 */
void myattackermalware()
{

	unsigned long *top_ebp;
	kprintf("----Victim----\n");
	//stackdepth();
	asm("movl %ebp,ebp;");
	top_ebp = ebp;
	kprintf(" ebp: 0x%08X\n", top_ebp);
	kprintf("ebp+1: 0x%08X ebp+1Val: 0x%08X\n", (top_ebp+1), *(top_ebp+1))
	myvictimglobal = 1;
	kprintf("malwarepid: %d myvictimglobal: %d\n", currpid, myvictimglobal);
	kprintf("return address: 0x%08X", __builtin_return_address(0));
	return;
}